package com.jigsaw.model;

import java.util.List;

import com.jfinal.plugin.activerecord.Db;
import com.jfinal.plugin.activerecord.Page;
import com.jfinal.plugin.activerecord.Record;
import com.jigsaw.model.base.BaseSiteUser;
import com.jigsaw.tool.Str2MD5;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class SiteUser extends BaseSiteUser<SiteUser> {
	public static final SiteUser dao = new SiteUser();
	
	public String defaultPassword = "a111111";
	
	public void operateUser(){
		String md5Pwd = Str2MD5.MD5(defaultPassword, 16);
		dao.set("RealName", "李良").set("PassWord", md5Pwd).save();
		
		dao.deleteById(1760);
		
		dao.findById(1753).set("MobilePhone", "13511112222").update();
		
		SiteUser user = SiteUser.dao.findByIdLoadColumns(1755, "RealName, LoginName");
		
		String userRealName = user.getStr("RealName");
		String loginName = user.getStr("LoginName");
		
		List<SiteUser> users = SiteUser.dao.find("SELECT * FROM Site_User WHERE UserID <= 20");
		
		Page<SiteUser> userPage = SiteUser.dao.paginate(1, 10, "SELECT *", "FROM Site_User WHERE UserID <= ?", 100);
		if(userPage.isFirstPage()){
			
		}
		
	}
	
	public void operateRecord(){
		String md5Pwd = Str2MD5.MD5(defaultPassword, 16);
		Record user = new Record().set("RealName", "James.Lee").set("PassWord", md5Pwd);
		Db.save("Site_User", user);
		
		Db.deleteById("Site_User", 1894);
		
		user = Db.findById("Site_User", 1895).set("LoginName", "James");
		Db.update("Site_User", user);
		
		String loginName = user.getStr("LoginName");
		String passWrod = user.getStr("PassWord");
		
		List<Record> users = Db.find("SELECT * FROM Site_User WHERE UserID <= 20");
		
		Page<Record> userPage = Db.paginate(1, 10, "SELECT *", "FROM Site_User WHERE UserID <= ?", 100);
		if(userPage.isFirstPage()){
			String a = "22";
		}
	}
}
